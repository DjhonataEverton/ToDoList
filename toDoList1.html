<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TodoList1</title>
</head>
<body>
    <script>

        let name = new Array
        let number = new Array
        let confirmar = ''
        let lista = new Array
        
        do{
            let escolha = Number(prompt('1.....Gravar\n2.....Listar\n3.....Buscar\n4.....Excluir'))

            switch(escolha){
                case 1:
                    name.push(prompt('Digite o nome a ser inserido:'))
                    number.push(prompt('Digite o número a ser inserido'))
                    
                    if(name!='' && number!=''){
                        gravar(name, number)
                    }
                    else{
                        alert('Preencha os campos!')
                    }
                    break;
                case 2:
                    if(lista.length!=0){
                        listar(lista)
                    }else{
                        alert('Não há nenhum item listado.')
                    }
                    break;
                case 3:
                       if(lista.length!=0){                          
                            let index = prompt('Digite o nome da pessoa que quer buscar: ')
                            buscar(name, index, lista)
                        }else{
                            alert('Digite um item antes de buscar na lista')
                        } 

                    break;
                case 4:
                    let index = prompt('Digite o nome da pessoa que quer excluir: ')
                    excluir(name,index, lista)
                    break;
                default:
                    alert('[ERROR!] Opção não existente.')
                    break;
            }
            confirmar = confirm('Deseja continuar?')
        }while(confirmar==true)

                                                    // FUNÇÕES

        function gravar(name, number){
            lista.push(`${name.slice(-1)} - ${number.slice(-1)}`)
        }
        function listar(lista){
            let txt = ''
            for(pos in lista){
                txt+=`${lista[pos]}\n`
            }
            alert(txt)
        }
        function buscar(name, index, lista){
            if(name.indexOf(index)!=-1){
                alert(lista[name.indexOf(index)])
            }else{
                alert('Número não encontrado.')
            }
        } 
        function excluir(name, index, lista){
            if(name.indexOf(index) != - 1){
                lista.splice(name.indexOf(index), 1)
                alert('Número excluído')
            }else{
                alert('Número não encontrado.')
            }
        }
    </script>
</body>
</html>